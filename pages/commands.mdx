import * as React from 'react'
import { useState, useRef, createRef } from 'react'

export function Commands({ children }) {
  const [defaultCommands, setDefaultCommands] = useState({
    List: {
      id: 1,
      name: `List`,
      command: `!com`,
      description: `List All Commands`,
    },
    Add: {
      id: 2,
      name: `Add`,
      command: `!add name(s) of player(s)`,
      description: `Add Player or Player(s) separated by spaces`,
    },
    Delete: {
      id: 3,
      name: `Delete`,
      command: `!del name(s) of player(s)`,
      description: `Delete Player or Player(s) separated by spaces`,
    },
    Reset: {
      id: 4,
      name: `Reset`,
      command: `!res`,
      description: `Reset Leaderboard`,
    },
    Update: {
      id: 5,
      name: `Update`,
      description: `Update Leaderboard`,
      command: `!upd winnerName 'beats' loserName loserStocksTakenFromWinner`,
    },
    Set: {
      id: 6,
      name: `Set`,
      command: `!set playerName (xp) amount`,
      description: `Set Parameter for Player`,
    },
    Give: {
      id: 7,
      name: `Give`,
      command: `!giv playerName (xp) amount`,
      description: `Give Parameter to Player`,
    },
  })

  const commandRefs = useRef([]);
  
  commandRefs.current = Object.values(defaultCommands).map((comm, i) => commandRefs.current[i] ?? createRef())

  return (
    <div className={`commandsList`}>
      {Object.values(defaultCommands).map((comm, commIndex) => {
        let elem = commandRefs.current[commIndex].current;
        if (elem) elem.firstChild.firstChild.firstChild.firstChild.firstChild.textContent = comm.command;

        return (
          <div key={commIndex} id={`comm-${comm?.id}`} ref={commandRefs.current[commIndex]}>
            {children}
          </div>
        )
      })}
    </div>
  )
}

<Commands>
  ```js copy
    Replace Me
  ```
</Commands>